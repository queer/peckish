pipeline: false

input:
  name: "rust: peckish release binary"
  type: "file"
  paths:
    - "./target/release/peckish"

output:
  - name: "tarball: peckish release binary"
    type: "tarball"
    path: "./release/peckish.tar"

  - name: "arch: peckish arch package"
    type: "arch"
    path: "./release/peckish.arch.pkg.tar"
    package_name: "peckish"
    description: "peckish transforms software artifacts"
    author: "amy"
    version: "0.0.1-1"
    injections:
      - type: "move"
        src: "/target/release/peckish"
        dest: "/usr/bin/peckish"

  - name: "deb: peckish debian package"
    type: "deb"
    path: "./release/peckish.deb"
    package_name: "peckish"
    description: "peckish transforms software artifacts"
    control: "./metadata/debian-control"
    injections:
      - type: "move"
        src: "/target/release/peckish"
        dest: "/usr/bin/peckish"

  - name: "file: peckish release binary"
    type: "file"
    path: "./release/peckish"
    injections:
      - type: "move"
        src: "/target/release/peckish"
        dest: "/peckish"
